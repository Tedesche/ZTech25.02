<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZTech Pro - Sistema de Gest√£o Empresarial</title>
    <link rel="stylesheet" href="styles/style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/choices.js/public/assets/styles/choices.min.css" />
	<meta name="_csrf" th:content="${_csrf.token}"/>
	<meta name="_csrf_header" th:content="${_csrf.headerName}"/>

	<script>
	       // Theme Toggle Functionality
	       let isDarkTheme = false;

	       function toggleTheme() {
	           const body = document.body;
	           const themeIcon = document.getElementById('themeIcon');
	           const themeText = document.getElementById('themeText');

	           isDarkTheme = !isDarkTheme;

	           if (isDarkTheme) {
	               body.classList.add('dark-theme');
	               themeIcon.textContent = '‚òÄÔ∏è';
	               themeText.textContent = 'Tema Claro';
	           } else {
	               body.classList.remove('dark-theme');
	               themeIcon.textContent = 'üåô';
	               themeText.textContent = 'Tema Escuro';
	           }

	           // Save theme preference
	           localStorage.setItem('theme', isDarkTheme ? 'dark' : 'light');
	       }

	       // Load saved theme
	       function loadTheme() {
	           const savedTheme = localStorage.getItem('theme');
	           if (savedTheme === 'dark') {
	               toggleTheme();
	           }
	       }

	       function showSection(section) {
	           // Atualizar bot√µes ativos
	           document.querySelectorAll('.nav-btn').forEach(btn => {
	               btn.classList.remove('active');
	           });
	           event.target.classList.add('active');

	           // Ocultar todas as se√ß√µes
	           document.querySelectorAll('.section').forEach(sec => {
	               sec.style.display = 'none';
	               sec.classList.remove('active');
	           });

	           // Mostrar se√ß√£o selecionada com anima√ß√£o
	           const targetSection = document.getElementById(section + '-section');
	           if (targetSection) {
	               targetSection.style.display = 'block';
	               setTimeout(() => {
	                   targetSection.classList.add('active');
	               }, 50);
	           }
	       }

	   </script>
	
	
	
</head>

<body>
    <div class="container">
        <div class="header">
            <div class="header-top">
                <div class="logo">
                    <div class="logo-icon">ZT</div>
                    <div class="logo-text">
                        <h1>ZTech Pro</h1>
                        <p class="subtitle">Sistema de Gest√£o Empresarial</p>
                    </div>
                </div>

				<div class="caixa-botoes">
	                <div class="theme-toggle" onclick="toggleTheme()">
	                    <div class="theme-icon" id="themeIcon">üåô</div>
	                    <div class="theme-text" id="themeText">Tema Escuro</div>
	                </div>
					<a th:href="@{login.html}" class="theme-toggle-link">
					  <div class="theme-toggle">
					    <div class="theme-icon" id="logoutIcon">üö™</div>
					    <div class="theme-text" id="logoutText">Sair</div>
					  </div>
					</a>
				</div>
            </div>

            <div class="nav">
                <button class="nav-btn active" onclick="showSection('dashboard')">
                    üìä Dashboard
                </button>
                <button class="nav-btn" onclick="showSection('estoque')">
                    üì¶ Estoque
                </button>
                <button class="nav-btn" onclick="showSection('os')">
                    üí∞ O. S.
                </button>
                <button class="nav-btn" onclick="showSection('vendas')">
                    üí∞ Vendas
                </button>
                <button class="nav-btn" onclick="showSection('funcionarios')">
                    üí≥ Funcionarios
                </button>
                <button class="nav-btn" onclick="showSection('contas')">
                    üí≥ Contas a Pagar
                </button>
            </div>
        </div>

        <!-- Dashboard Section -->
        <div id="dashboard-section" class="section active">
            <div class="main-content">
                <div class="card">
                    <div class="card-header">
                        <div class="card-icon estoque">üì¶</div>
                        <h3>Controle de Estoque</h3>
                    </div>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-text" th:text="${totalProdutos}">0</div>
                            <div class="stat-label">Produtos Total</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-text">12</div>
                            <div class="stat-label">Estoque Baixo</div>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="action-btn btn-primary" style="width: 320px" onclick="openModal('produto')">Novo Produto</button>
                        
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon vendas">üí∞</div>
                        <h3>Controle de Venda</h3>
                    </div>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-text" th:text="${lucroVendas}" >R$ 0.00</div>
                            <div class="stat-label">Vendas do M√™s</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-text" th:text="${totalVendas}">0</div>
                            <div class="stat-label">Pedidos</div>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="action-btn btn-primary" style="width: 320px" onclick="openModal('venda')">Nova Venda</button>
                        
                    </div>
                </div>

                <div class="card">
                    <div class="card-header">
                        <div class="card-icon vendas">üí≥</div>
                        <h3>Controle de O.S.</h3>
                    </div>
                    <div class="stats">
                        <div class="stat-item">
                            <div class="stat-text" th:text="${lucroOSs}" >R$ 0.00</div>
                            <div class="stat-label">Servi√ßos do m√™s</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-text" th:text="${totalVendas}">0</div>
                            <div class="stat-label">Servi√ßos</div>
                        </div>
                    </div>
                    <div class="action-buttons">
                        <button class="action-btn btn-primary" style="width: 320px" onclick="openModal('conta')">Nova Conta</button>
                       
                    </div>
                </div>
            </div>

            <div class="quick-actions">
                <h3>Emiss√£o de Relat√≥rios</h3>
                <div class="quick-grid">
                    <div class="quick-btn" onclick="openModal('produto')">
                        <div class="quick-btn-icon">‚ûï</div>
                        <div class="quick-btn-text">Relat√≥rio de Produtos</div>
                    </div>
                    <div class="quick-btn" onclick="openModal('venda')">
                        <div class="quick-btn-icon">üõí</div>
                        <div class="quick-btn-text">Relat√≥rio de Vendas</div>
                    </div>
                    <div class="quick-btn" onclick="openModal('conta')">
                        <div class="quick-btn-icon">üí∞</div>
                        <div class="quick-btn-text">Relat√≥rio de O.S.</div>
                    </div>
                    <div class="quick-btn">
                        <div class="quick-btn-icon">üë•</div>
                        <div class="quick-btn-text">Relat√≥rio de Funcion√°rios</div>
                    </div>
                    <div class="quick-btn">
                        <div class="quick-btn-icon">üè™</div>
                        <div class="quick-btn-text" onclick="openModal('verificacao')">Relat√≥rio de Contas</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Estoque Section -->
        <div id="estoque-section" class="section">
            <div class="section-header">
                <h2>üì¶ Controle de Estoque</h2>
                <button id="btn_novoProduto" class="action-btn btn-primary" onclick="openModal('produto')">
                    ‚ûï Novo Produto
                </button>
            </div>

            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-content">
                        <div class="stat-text">R$ 15.420</div>
                        <div class="stat-label">Compras do M√™s</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üõí</div>
                    <div class="stat-content">
                        <div class="stat-text">89</div>
                        <div class="stat-label">Produtos</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-content">
                        <div class="stat-text">67</div>
                        <div class="stat-label">Fornecedores</div>
                    </div>
                </div>

            </div>

            <div class="filters-bar">
				<div class="caixa-pesquisa">
                <input type="text" placeholder="Buscar produtos..." class="search-input" style="border-radius: 10px 0 0 10px;">
                <button class="pesquisa action-btn btn-primary " style="border-radius: 0 10px 10px 0;"></button>
				</div>
                <select class="filter-select">
                    <option>Todas as Categorias</option>
                    <option>Eletr√¥nicos</option>
                    <option>Roupas</option>
                    <option>Casa e Jardim</option>
                </select>
                <select class="filter-select">
                    <option>Todas as Marcas</option>
                    <option>Eletr√¥nicos</option>
                    <option>Roupas</option>
                    <option>Casa e Jardim</option>
                </select>
             <button class="action-btn btn-primary">Relat√≥rio</button>
            </div>




            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>C√≥digo</th>
                            <th>Nome do Produto</th>
                            <th>Pre√ßo</th>
                            <th>Estoque</th>
                            <th>Descri√ß√£o</th>
                            <th>Categoria</th>
                            <th>Marca</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="produto :${paginaDeProdutos.content}">
                            <td th:text="${produto.IdProduto}"></td>
                            <td th:text="${produto.nome}"></td>
                            <td th:text="${produto.valor}"></td>
                            <td th:text="${produto.quantidade}"></td>
                            <td th:text="${produto.descricao}"></td>
                            <td th:text="${produto.categoria}"></td>
                            <td th:text="${produto.marca}"></td>
                            <td>
                                <button class="table-btn edit">Editar</button>
                                <button class="table-btn delete" onclick="openModal('Excluir')">Excluir</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
			<div class="pagination-controls" th:if="${paginaDeProdutos.totalPages > 1}" 
			     style="display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 20px;">

			    <a th:if="${paginaDeProdutos.hasPrevious()}"
			       th:href="@{/inicio(pageEstoque=${paginaDeProdutos.number - 1}, tab='estoque')}"
			       class="action-btn btn-secondary">
			       &larr; Anterior
			    </a>

			    <span th:text="|P√°gina ${paginaDeProdutos.number + 1} de ${paginaDeProdutos.totalPages}|"
			          style="font-weight: bold;">
			    </span>

			    <a th:if="${paginaDeProdutos.hasNext()}"
			       th:href="@{/inicio(pageEstoque=${paginaDeProdutos.number + 1}, tab='estoque')}"
			       class="action-btn btn-primary">
			       Pr√≥ximo &rarr;
			    </a>
			</div>
        </div>


        <!-- Ordens de Servi√ßo Section -->
        <div id="os-section" class="section">
            <div class="section-header">
                <h2>üí∞ Controle de Ordens de Servi√ßo</h2>
                <button class="action-btn btn-primary" onclick="openModal('Cliente')"
                    style="margin-left: auto; margin-right: 10px;">
                    <!-- Adicionar MODAL de servi√ßo -->
                    ‚ûï Novo Cliente
                </button>
                <button class="action-btn btn-primary" onclick="openModal('Servico')" style="margin-right: 10px;">
                    <!-- Adicionar MODAL de servi√ßo -->
                    ‚ûï Novo Servi√ßo
                </button>
                <button class="action-btn btn-primary" onclick="openModal('OrdemServico')"> <!-- Adicionar MODAL de servi√ßo -->
                    ‚ûï Nova O. S.
                </button>
            </div>

            <div class="stats-row"> <!-- Aferir os campos realmente necessarios -->
                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-content">
                        <div class="stat-text">R$ 15.420</div>
                        <div class="stat-label">Servi√ßos do M√™s</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üõí</div>
                    <div class="stat-content">
                        <div class="stat-text">89</div>
                        <div class="stat-label">Servi√ßos do M√™s</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üí≥</div>
                    <div class="stat-content">
                        <div class="stat-text">R$ 173,15</div>
                        <div class="stat-label">Ticket M√©dio</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üë•</div>
                    <div class="stat-content">
                        <div class="stat-text">67</div>
                        <div class="stat-label">Clientes</div>
                    </div>
                </div>
            </div>

            <div class="filters-bar">
				<div class="caixa-pesquisa">
					<input type="text" placeholder="Buscar produtos..." class="search-input" style="border-radius: 10px 0 0 10px;">
				   	<button class="action-btn btn-primary pesquisa" style="border-radius: 0 10px 10px 0;"></button>
				</div>
                <select class="filter-select">
                    <option>Todos os Status</option>
                    <option>Conclu√≠da</option>
                    <option>Pendente</option>
                    <option>Cancelada</option>
                </select>
                <button class="action-btn btn-primary">Relat√≥rio</button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Cliente</th>
                            <th>Data Inicio</th>
                            <th>Data Fim</th>
                            <th>Valor</th>
                            <th>Servi√ßo</th>
                            <th>Produto</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="ordemServicos :${paginaDeOrdensServico.content}">
                            <td th:text="${ordemServicos.IdOS}"></td>
                            <td th:text="${ordemServicos.nomeCliente}"></td>
                            <td th:text="${ordemServicos.dataInicio}"></td>
                            <td th:text="${ordemServicos.dataFim}"></td>
                            <td th:text="${ordemServicos.valor}"></td>
                            <td th:text="${ordemServicos.nomeServico}"></td>
                            <td th:text="${ordemServicos.nomeProduto}"></td>
                            <td th:text="${ordemServicos.statusOS}"><span class="status-badge status-success">Conclu√≠da</span></td>
                            <td style="display: flex;">
                                <button class="table-btn edit" style="justify-content: space-around;">Editar</button>
                                <button class="table-btn delete" style="justify-content: space-around";>Deletar</button>
                                <button class="table-btn concluir" style="justify-content: space-around;">Concluir</button>
                                <button class="table-btn pdf" style="justify-content: space-around";>Garantia</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
			<div class="pagination-controls" th:if="${paginaDeOrdensServico.totalPages > 1}" 
			     style="display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 20px;">

			    <a th:if="${paginaDeOrdensServico.hasPrevious()}"
			       th:href="@{/inicio(pageOS=${paginaDeOrdensServico.number - 1}, tab='os')}"
			       class="action-btn btn-secondary">
			       &larr; Anterior
			    </a>

			    <span th:text="|P√°gina ${paginaDeOrdensServico.number + 1} de ${paginaDeOrdensServico.totalPages}|"
			          style="font-weight: bold;">
			    </span>

			    <a th:if="${paginaDeOrdensServico.hasNext()}"
			       th:href="@{/inicio(pageOS=${paginaDeOrdensServico.number + 1}, tab='os')}"
			       class="action-btn btn-primary">
			       Pr√≥ximo &rarr;
			    </a>
			</div>
        </div>

        <!-- Vendas Section -->
        <div id="vendas-section" class="section">
            <div class="section-header">
                <h2>üí∞ Controle de Vendas</h2>
                <button class="action-btn btn-primary" onclick="openModal('venda2')">
                    ‚ûï Nova Venda
                </button>
            </div>

            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-icon">üìä</div>
                    <div class="stat-content">
                        <div class="stat-text">R$ 15.420</div>
                        <div class="stat-label">Vendas do M√™s</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üõí</div>
                    <div class="stat-content">
                        <div class="stat-text">89</div>
                        <div class="stat-label">Pedidos</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üí≥</div>
                    <div class="stat-content">
                        <div class="stat-text">R$ 173,15</div>
                        <div class="stat-label">Ticket M√©dio</div>
                    </div>
                </div>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Data</th>
                            <th>Hora</th>
                            <th>Cliente</th>
                            <th>Produtos</th>
                            <th>Quantidade</th>
                            <th>Valor Total</th>
                            <th>Lucro</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="vendas :${paginaDeVendas.content}">
                            <td th:text="${vendas.IdVenda}"></td>
                            <td th:text="${vendas.dataInicio}"></td>
                            <td th:text="${vendas.horaInicio}"></td>
                            <td th:text="${vendas.nomeCliente}"></td>
                            <td th:text="${vendas.nomeProduto}"></td>
                            <td th:text="${vendas.quantidade}"></td>
                            <td th:text="${vendas.valor}"></td>
                            <td th:text="${vendas.lucro}"></td>
                            <td><span class="status-badge status-success">Conclu√≠da</span></td>
                            <td>
                                <button class="table-btn edit">Editar</button>
                                <button class="table-btn delete">Deletar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>

			<div class="pagination-controls" th:if="${paginaDeVendas.totalPages > 1}" 
			     style="display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 20px;">

			    <a th:if="${paginaDeVendas.hasPrevious()}"
			       th:href="@{/inicio(pageVendas=${paginaDeVendas.number - 1}, tab='vendas')}"
			       class="action-btn btn-secondary">
			       &larr; Anterior
			    </a>

			    <span th:text="|P√°gina ${paginaDeVendas.number + 1} de ${paginaDeVendas.totalPages}|"
			          style="font-weight: bold;">
			    </span>

			    <a th:if="${paginaDeVendas.hasNext()}"
			       th:href="@{/inicio(pageVendas=${paginaDeVendas.number + 1}, tab='vendas')}"
			       class="action-btn btn-primary">
			       Pr√≥ximo &rarr;
			    </a>
			</div>
        </div>

        <!-- Funcionarios Section -->
        <div id="funcionarios-section" class="section">
            <div class="section-header">
                <h2>üí≥ Funcionarios </h2>
                <button class="action-btn btn-primary" onclick="openModal('funcionario')">
                    ‚ûï Novo funcionario
                </button>
            </div>

            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-icon">üìÖ</div>
                    <div class="stat-content">
                        <div class="stat-text">2</div>
                        <div class="stat-label">Colaborador(es) ativos</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-content">
                        <div class="stat-text">Robson</div>
                        <div class="stat-label">Aniversariante(s) do m√™s</div>
                    </div>
                </div>
            </div>

            <div class="filters-bar">
				<div class="caixa-pesquisa">
					<input type="text" placeholder="Buscar produtos..." class="search-input" style="border-radius: 10px 0 0 10px;">
			 		<button class="action-btn btn-primary pesquisa" style="border-radius: 0 10px 10px 0;"></button>
				</div>
                <select class="filter-select">
                    <option>Todos os Status</option>
                    <option>Efetivo</option>
                    <option>Demitido</option>
                    <option>Afastado</option>
                </select>
                <button class="action-btn btn-primary">Relat√≥rio</button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Nome</th>
                            <th>CPF</th>
                            <th>Admiss√£o</th>
                            <th>Nivel de Acesso</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr th:each="funcionarios :${paginaDeFuncionarios.content}">
                            <td th:text="${funcionarios.idFun}"></td>
                            <td th:text="${funcionarios.nomeFuncionario}"></td>
                            <td th:text="${funcionarios.cpf}"></td>
                            <td th:text="${funcionarios.dataAdm}"></td>
                            <td th:text="${funcionarios.nivelAces}"></td>
                            <td th:text="${funcionarios.status_Fun}"><span class="status-badge status-normal">Pendente</span></td>
                            <!-- atualizar os status de funcionarios -->
                            <td>
                                <button class="table-btn edit">Editar</button>
                                <button class="table-btn delete">Deletar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
			<div class="pagination-controls" th:if="${paginaDeFuncionarios.totalPages > 1}" 
			     style="display: flex; justify-content: center; align-items: center; gap: 20px; margin-top: 20px;">

			    <a th:if="${paginaDeFuncionarios.hasPrevious()}"
			       th:href="@{/inicio(pageFuncionarios=${paginaDeFuncionarios.number - 1}, tab='funcionarios')}"
			       class="action-btn btn-secondary">
			       &larr; Anterior
			    </a>

			    <span th:text="|P√°gina ${paginaDeFuncionarios.number + 1} de ${paginaDeFuncionarios.totalPages}|"
			          style="font-weight: bold;">
			    </span>

			    <a th:if="${paginaDeFuncionarios.hasNext()}"
			       th:href="@{/inicio(pageFuncionarios=${paginaDeFuncionarios.number + 1}, tab='funcionarios')}"
			       class="action-btn btn-primary">
			       Pr√≥ximo &rarr;
			    </a>
			</div>
        </div>

        <!-- Contas Section -->
        <div id="contas-section" class="section">
            <div class="section-header">
                <h2>üí≥ Contas a Pagar</h2>
                <button class="action-btn btn-primary" onclick="openModal('conta')">
                    ‚ûï Nova Conta
                </button>
            </div>

            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-icon">‚è∞</div>
                    <div class="stat-content">
                        <div class="stat-text">R$ 3.250</div>
                        <div class="stat-label">Vencendo Hoje</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üìÖ</div>
                    <div class="stat-content">
                        <div class="stat-text">R$ 8.750</div>
                        <div class="stat-label">Este M√™s</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö†Ô∏è</div>
                    <div class="stat-content">
                        <div class="stat-text">3</div>
                        <div class="stat-label">Em Atraso</div>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚úÖ</div>
                    <div class="stat-content">
                        <div class="stat-text">R$ 12.430</div>
                        <div class="stat-label">Pagas no M√™s</div>
                    </div>
                </div>
            </div>
            <div class="filters-bar">
				<div class="caixa-pesquisa">
				 	<input type="text" placeholder="Buscar produtos..." class="search-input" style="border-radius: 10px 0 0 10px;">
				    <button class="action-btn btn-primary pesquisa" style="border-radius: 0 10px 10px 0;"></button>
				</div>
                <select class="filter-select">
                    <option>Todas as Categorias</option>
                    <option>Aluguel</option>
                    <option>Energia</option>
                    <option>Fornecedores</option>
                    <option>Outros</option>
                </select>
                <select class="filter-select">
                    <option>Todos os Status</option>
                    <option>Pendente</option>
                    <option>Pago</option>
                    <option>Vencido</option>
                </select>
                <button class="action-btn btn-primary">Relat√≥rio</button>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Descri√ß√£o</th>
                            <th>Fornecedor</th>
                            <th>Valor</th>
                            <th>Vencimento</th>
                            <th>Status</th>
                            <th>A√ß√µes</th>
                        </tr>
                    </thead>
                    <tbody>
                        </tr>
                        <tr>
                            <td>C004</td>
                            <td>Internet e Telefone</td>
                            <td>Telecom Plus</td>
                            <td>R$ 180,00</td>
                            <td>25/08/2024</td>
                            <td><span class="status-badge status-normal">Pendente</span></td>
                            <td>
                                <button class="table-btn pay">Pagar</button>
                                <button class="table-btn edit">Editar</button>
                                <button class="table-btn delete">Deletar</button>
                            </td>
                        </tr>
                        <tr>
                            <td>C005</td>
                            <td>Material de Limpeza</td>
                            <td>Clean Service</td>
                            <td>R$ 320,00</td>
                            <td>05/08/2024</td>
                            <td><span class="status-badge status-success">Pago</span></td>
                            <td>
                                <button class="table-btn pay">Pagar</button>
                                <button class="table-btn edit">Editar</button>
                                <button class="table-btn delete">Deletar</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <div class="footer">
            <p>¬© 2024 ZTech Pro - Sistema desenvolvido para facilitar a gest√£o da sua empresa</p>
        </div>
    </div>

    <!-- Modal para Produto -->
    <div id="modalProduto" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('produto')">&times;</span>
            <h2 style="margin-bottom: 25px;">Cadastrar Novo Produto</h2>
            <div class="form-group">
                <label>Nome do Produto:</label>
                <input type="text" placeholder="Digite o nome do produto">
            </div>
            <div class="form-group">
                <label>Custo:</label>
                <input type="number" placeholder="0,00" step="5">
            </div>
            <div class="form-group">
                <label>Pre√ßo Revenda:</label>
                <input type="number" placeholder="0,00" step="5">
            </div>
            <div class="form-group">
                <label>Quantidade em Estoque:</label>
                <input type="number" placeholder="0">
            </div>
            <div class="form-group">
                <label>Descri√ß√£o do Produto:</label>
                <textarea id="detalhes-pedido" name="detalhesPedido" rows="3"
                    placeholder="Digite aqui a descri√ß√£o do Produto...">
                </textarea>
            </div>
            <div class="form-group">
                <label for="produtoCategoriaSelect">Categoria:</label>
                <select id="produtoCategoriaSelect" name="categoria" style="width: 85%;">
                    <option value="" >Selecione uma categoria</option>
                </select>
                <button class="action-btn btn-primary" onclick="openModal('Categoria')"
                    style="width: 14%; padding: 12px 0;" title="Cadastrar Nova Categoria">
                    ‚ûï
                </button>
            </div>
            <div class="form-group">
                <label for="produtoMarcaSelect">Marca:</label>
                <select id="produtoMarcaSelect" name="marca" style="width: 85%;">
                    <option value="" >Selecione uma categoria</option>
                </select>
                <button class="action-btn btn-primary" onclick="openModal('Marca')" style="width: 14%; padding: 12px 0;"
                    title="Cadastrar Nova Marca">
                    ‚ûï
                </button>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Salvar Produto</button>
                <button class="action-btn btn-secondary" onclick="closeModal('produto')">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Cliente -->
    <div id="modalCliente" class="modal">
        <div class="modal-content" style="max-width: 750px;">
            <span class="close" onclick="closeModal('Cliente')">&times;</span>
            <h2 style="margin-bottom: 25px;">Cadastrar Novo Cliente</h2>
            <section>
                <div style="width: 50%;">
                    <div class="form-group">
                        <label>Nome:</label>
                        <input type="text" placeholder="Digite o Nome Completo">
                    </div>
                    <div class="form-group">
                        <label>CPF:</label>
                        <input type="text" placeholder="Digite o CPF">
                    </div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" placeholder="exemplo@exemplo.com">
                    </div>
                    <div class="form-group">
                        <label>Telefonel:</label>
                        <input type="tel" placeholder="(11) 99999-9999">
                    </div>
                </div>
                <div style="width: 50%;">
                    <div style="display: flex; gap: 5px;">
                        <div class="form-group" style="width: 100%;">
                            <label>CEP:</label>
                            <input type="text" id="cep" placeholder="Digite ou Busque o CEP">
                        </div>
                        <button class="action-btn btn-primary" onclick="GETcep()"
                            style="width: 14%; height: 40px; margin-top: auto; margin-bottom: 22px; padding: 10px 0; float: inline-end;"
                            title="Cadastrar Nova Marca">
                            ‚ûï
                        </button>
                    </div>
                    <div class="form-group">
                        <label>Rua:</label>
                        <input type="text" id="rua" placeholder="Digite o nome da Rua">
                    </div>
                    <div style="display: flex; gap: 5px;">
                        <div class="form-group" style="width: 70%;">
                            <label>Bairro:</label>
                            <input type="text" id="bairro" placeholder="Digite o Bairro">
                        </div>
                        <div class="form-group" style="width: 30%;">
                            <label>Numero:</label>
                            <input type="number" id="numero" placeholder="xxxx" step="5">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Cidade:</label>
                        <input type="text" id="cidade" placeholder="Digite o nome da Cidade">
                    </div>
                    <div class="form-group">
                    </div>
                </div>
            </section>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Salvar Cliente</button>
                <button class="action-btn btn-secondary" onclick="closeModal('Cliente')">Cancelar</button>
            </div>
        </div>
    </div>
    <!-- Modal de nova OS -->
        <div id="modalOrdemServico" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('OrdemServico')">&times;</span>
            <h2 style="margin-bottom: 25px;">Cadastrar Nova Ordem de Servico</h2>
            <div class="form-group">
                <label>Cliente:</label>
                <input type="text" placeholder="Digite o nome do cliente">
            </div>
            <div class="form-group">
                <label>Pre√ßo:</label>
                <input type="number" placeholder="0,00" step="5">
            </div>
            <div class="form-group">
                <label>Servi√ßo:</label>
                <select style="width: 85%;">
                    <option>Selecione um Servi√ßo</option>
                    <option></option>
                </select>
                <button class="action-btn btn-primary" onclick="openModal('Servico')"
                    style="width: 14%; padding: 12px 0;" title="Cadastrar Novo Servi√ßo">
                    ‚ûï
                </button>
            </div>
             <div class="form-group">
                <label>Produto:</label>
                <select style="width: 85%;">
                    <option>Selecione um produto</option>
                    <option>Smartphone Samsung - R$ 899,00</option>
                    <option>Notebook Dell - R$ 2.499,00</option>
                    <option>Fone de Ouvido - R$ 129,90</option>
                </select>
				<button class="action-btn btn-primary" onclick="openModal('Servico')"
				                    style="width: 14%; padding: 12px 0;" title="Cadastrar Novo Servi√ßo">
				                    ‚ûï
				                </button>
            </div>
            <div class="form-group">
            <label>Status:</label>
            <select>
            	<option>Registrada</option>
            	<option>Em Andamento</option>
            	<option>Cancelado</option>
            	<option>Conclu√≠do</option>
            </select>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Salvar Ordem de Servi√ßo</button>
                <button class="action-btn btn-secondary" onclick="closeModal('OrdemServico')">Cancelar</button>
            </div>
        </div>

    </div>

    <!-- Modal para Servi√ßo -->
    <div id="modalServico" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('Servico')">&times;</span>
            <h2 style="margin-bottom: 25px;">Cadastrar Novo Servi√ßo</h2>
            <div class="form-group">
                <label>Nome do Servico:</label>
                <input type="text" placeholder="Digite o nome do Servi√ßo">
            </div>
            <div class="form-group">
                <label>Descri√ß√£o do Servico:</label>
                <textarea id="detalhes-pedido" name="detalhesPedido" rows="3"
                    placeholder="Digite aqui a descri√ß√£o do servi√ßo...">
                </textarea>
            </div>
            <div class="form-group">
                <label>Pre√ßo:</label>
                <input type="number" placeholder="0,00" step="5">
            </div>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Salvar Servi√ßo</button>
                <button class="action-btn btn-secondary" onclick="closeModal('Servico')">Cancelar</button>
            </div>
        </div>

    </div>

    <!-- Modal para Venda -->
    <div id="modalVenda" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('venda')">&times;</span>
            <h2 style="margin-bottom: 25px;">Registrar Nova Venda</h2>
            <div class="form-group">
                <label>Cliente:</label>
                <input type="text" placeholder="Nome do cliente">
            </div>
            <div class="form-group">
                <label>Produto:</label>
                <select>
                    <option>Selecione um produto</option>
                    <option>Smartphone Samsung - R$ 899,00</option>
                    <option>Notebook Dell - R$ 2.499,00</option>
                    <option>Fone de Ouvido - R$ 129,90</option>
                </select>
            </div>
            <div class="form-group">
                <label>Quantidade:</label>
                <input type="number" placeholder="1" min="1">
            </div>
            <div class="form-group">
                <label>Valor Total:</label>
                <input type="number" placeholder="0,00" step="5">
            </div>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Finalizar Venda</button>
                <button class="action-btn btn-secondary" onclick="closeModal('venda')">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Venda 2-->
    <div id="modalVenda2" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('venda2')">&times;</span>
            <h2 style="margin-bottom: 25px;">Registrar Nova Venda</h2>

            <div class="form-group">
                <label>Cliente:</label>
                <input type="text" id="cliente-nome" placeholder="Nome do cliente">
            </div>

            <hr style="margin: 20px 0; border: 1px solid #eee;">

            <div class="add-produto-area">
                <div class="form-group" style="flex: 3;">
                    <label>Produto:</label>
                    <select id="produto-select">
                        <option value="">Selecione um produto</option>
                        <option value="Smartphone Samsung|899.00">Smartphone Samsung - R$ 899,00</option>
                        <option value="Notebook Dell|2499.00">Notebook Dell - R$ 2.499,00</option>
                        <option value="Fone de Ouvido|129.90">Fone de Ouvido - R$ 129,90</option>
                    </select>
                </div>
                <div class="form-group" style="flex: 1;">
                    <label>Quantidade:</label>
                    <input type="number" id="produto-quantidade" value="1" min="1">
                </div>
            </div>
            <button id="btn-adicionar-produto" class="action-btn btn-primary" style="align-self: flex-end; height: 40px;">Adicionar
                Produto ao Carrinho</button>

            <hr style="margin: 20px 0; border: 1px solid #eee;">

            <h4>Itens da Venda</h4>
            <div id="carrinho-itens-lista" class="carrinho-lista">
                <p class="carrinho-vazio">Nenhum item adicionado ainda.</p>
            </div>

            <div class="total-venda">
                <strong>Valor Total: R$ <span id="valor-total-carrinho">0,00</span></strong>
            </div>

            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button id="btn-finalizar-venda" class="action-btn btn-primary" style="flex: 1;">Finalizar
                    Venda</button>
                <button class="action-btn btn-secondary" onclick="closeModal('venda2')">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para funcionario -->
    <div id="modalFuncionario" class="modal">
        <div class="modal-content" style="max-width: 750px;">
            <span class="close" onclick="closeModal('Funcionario')">&times;</span>
            <h2 style="margin-bottom: 25px;">Cadastrar Novo Funcion√°rio</h2>
            <section>
                <div style="width: 50%;">
                    <div class="form-group">
                        <label>Nome:</label>
                        <input type="text" placeholder="Digite o Nome Completo">
                    </div>
                    <div class="form-group">
                        <label>CPF:</label>
                        <input type="text" placeholder="Digite o CPF">
                    </div>
                  	<div class="form-group">
                		<label>Data de Nascimento:</label>
                		<input type="date">
            		</div>
                    <div class="form-group">
                        <label>Email:</label>
                        <input type="email" placeholder="exemplo@exemplo.com">
                    </div>
                    <div class="form-group">
                        <label>Telefonel:</label>
                        <input type="tel" placeholder="(11) 99999-9999">
                    </div>
                    
                </div>
                <div style="width: 50%;">
                    <div style="display: flex; gap: 5px;">
                        <div class="form-group" style="width: 100%;">
                            <label>CEP:</label>
                            <input type="text" id="cep" placeholder="Digite ou Busque o CEP">
                        </div>
                        <button class="action-btn btn-primary" onclick="GETcep()"
                            style="width: 14%; height: 40px; margin-top: auto; margin-bottom: 22px; padding: 10px 0; float: inline-end;"
                            title="Cadastrar Nova Marca">
                            ‚ûï
                        </button>
                    </div>
                    <div class="form-group">
                        <label>Rua:</label>
                        <input type="text" id="rua" placeholder="Digite o nome da Rua">
                    </div>
                    <div style="display: flex; gap: 5px;">
                        <div class="form-group" style="width: 70%;">
                            <label>Bairro:</label>
                            <input type="text" id="bairro" placeholder="Digite o Bairro">
                        </div>
                        <div class="form-group" style="width: 30%;">
                            <label>Numero:</label>
                            <input type="number" id="numero" placeholder="xxxx" step="5">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Cidade:</label>
                        <input type="text" id="cidade" placeholder="Digite o nome da Cidade">
                    </div>
                    <div class="form-group">
                                <div class="form-group">
                <label>Nivel de Acesso:</label>
                <select>
                    <option>Selecione um Nivel de Acesso</option>
                    <option>Admin</option>
                    <option>Funcionario</option>
                </select>
            </div>
                    </div>
                </div>
                
            </section>
            <div class="form-group" style="flex: 1;">
                <label>Salario:</label>
                <input type="number" id="produto-quantidade" value="1" step="100" min="100">
            </div>
            
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Adicionar Funcion√°rio</button>
                <button class="action-btn btn-secondary" onclick="closeModal('Funcionario')">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Conta -->
    <div id="modalConta" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('conta')">&times;</span>
            <h2 style="margin-bottom: 25px;">Cadastrar Conta a Pagar</h2>
            <div class="form-group">
                <label>Descri√ß√£o:</label>
                <input type="text" placeholder="Descri√ß√£o da conta">
            </div>
            <div class="form-group">
                <label>Fornecedor:</label>
                <input type="text" placeholder="Nome do fornecedor">
            </div>
            <div class="form-group">
                <label>Valor:</label>
                <input type="number" placeholder="0,00" step="5">
            </div>
            <div class="form-group">
                <label>Data de Vencimento:</label>
                <input type="date">
            </div>
            <div class="form-group">
                <label>Categoria:</label>
                <select>
                    <option>Selecione uma categoria</option>
                    <option>Aluguel</option>
                    <option>Energia</option>
                    <option>Fornecedores</option>
                    <option>Outros</option>
                </select>
            </div>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Salvar Conta</button>
                <button class="action-btn btn-secondary" onclick="closeModal('conta')">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Categoria -->
    <div id="modalCategoria" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('Categoria')">&times;</span>
            <h2 style="margin-bottom: 25px;">Cadastrar Nova Categoria</h2>
            <div class="form-group">
                <label>Categoria:</label>
                <input type="text" placeholder="Categoria">
            </div>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Salvar Categoria</button>
                <button class="action-btn btn-secondary" onclick="closeModal('Categoria')">Cancelar</button>
            </div>
        </div>
    </div>

    <!-- Modal para Marca -->
    <div id="modalMarca" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('Marca')">&times;</span>
            <h2 style="margin-bottom: 25px;">Cadastrar Nova Marca</h2>
            <form id="formNovaMarca" action="/api/marcas/salvar" method="post">
				<div class="form-group">
				    <label>Marca:</label>
				    <input id="nomeMarcaInput" type="text" placeholder="Marca">
				</div>
				<div style="display: flex; gap: 10px; margin-top: 25px;">
				    <button type="submit" class="action-btn btn-primary" style="flex: 1;">Salvar Marca</button>
				    <button type="button" class="action-btn btn-secondary" onclick="closeModal('Marca')">Cancelar</button>
				</div>
			</form>
        </div>
    </div>

    <!-- Modal para Verifica√ß√£o de Exclus√£o -->
    <div id="modalExcluir" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('Excluir')">&times;</span>
            <h2 style="margin-bottom: 25px;">Tem certeza que deseja Excluir ?</h2>
            <div style="display: flex; gap: 10px; margin-top: 25px;">
                <button class="action-btn btn-primary" style="flex: 1;">Excluir</button>
                <button class="action-btn btn-secondary" onclick="closeModal('Excluir')">Cancelar</button>
            </div>
        </div>
    </div>
	<div id="modalVerificacao" class="modal">
	        <div class="modal-content">
	            <span class="close" onclick="closeModal('verificacao')">&times;</span>
	            <h2 style="margin-bottom: 25px; text-align: center;">Autentica√ß√£o em dois fatores</h2>
	            <div class="form-group">
					<p style="text-align:center; margin-bottom: 15px;">Um c√≥digo foi enviado para o email cadastrado. Por favor, digite-o no campo.</p>
	                <input type="text" style="text-align: center;" placeholder="C√≥digo">
	            </div>
	            <div style="display: flex; gap: 10px; margin-top: 25px;">
	                <button class="action-btn btn-primary" style="flex: 1;">Verificar</button>
	            </div>
	        </div>
	    </div>

    <!-- <script src="https://cdn.jsdelivr.net/npm/choices.js/public/assets/scripts/choices.min.js"></script> -->
	<script> 
		// criar uma fun√ß√£o para zerar os modais ao fechalos
		       function openModal(type) {
		           document.getElementById('modal' + type.charAt(0).toUpperCase() + type.slice(1)).style.display = 'flex';
		           
		           //inicializa os dados da choice
		           inicializarChoicesServicos();
		       }

		       function closeModal(type) {
		           document.getElementById('modal' + type.charAt(0).toUpperCase() + type.slice(1)).style.display = 'none';
		       }

		       // Fechar modal ao clicar fora dele
		       window.onclick = function (event) {
		           if (event.target.classList.contains('modal')) {
		               event.target.style.display = 'none';
		           }
		       }
			   
			   // NOVA FUN√á√ÉO para ler o par√¢metro 'tab' da URL
			   function ativarAbaPelaUrl() {
			       const params = new URLSearchParams(window.location.search);
			       const abaAtiva = params.get('tab'); // ex: 'estoque'

			       if (abaAtiva) {
			           // Simula um clique no bot√£o da aba correta
			           const botaoAtivo = document.querySelector(`.nav-btn[onclick="showSection('${abaAtiva}')"]`);
			           if(botaoAtivo) {
			               botaoAtivo.click(); // Usa sua fun√ß√£o showSection para abrir a aba
			           }
			       } else {
			           // Comportamento padr√£o: mostrar dashboard
			           document.getElementById('dashboard-section').classList.add('active');
			           // Marca o bot√£o 'dashboard' como ativo
			           document.querySelector('.nav-btn[onclick="showSection(\'dashboard\')"]').classList.add('active');
			       }
			   }

			   // ACHE ISSO NO SEU C√ìDIGO (no final do script):
			   window.addEventListener('load', function () {
			       // Load theme preference
			       loadTheme();

			       // SUBSTITUA O C√ìDIGO ANTIGO DE MOSTRAR O DASHBOARD POR ISSO:
			       ativarAbaPelaUrl(); 
			       
			       // O resto da sua fun√ß√£o 'load' (anima√ß√µes, etc.)
			       document.querySelectorAll('.card, .quick-actions').forEach((el, index) => {
			           el.style.opacity = '0';
			           el.style.transform = 'translateY(20px)';
			           setTimeout(() => {
			               el.style.transition = 'all 0.6s ease';
			               el.style.opacity = '1';
			               el.style.transform = 'translateY(0)';
			           }, index * 100);
			       });
			   });

		       // Anima√ß√£o de entrada suave
		    //   window.addEventListener('load', function () {
		           // Load theme preference
		    //       loadTheme();

		           // Mostrar dashboard por padr√£o
		    //       document.getElementById('dashboard-section').classList.add('active');

		    //       document.querySelectorAll('.card, .quick-actions').forEach((el, index) => {
		    //           el.style.opacity = '0';
		    //           el.style.transform = 'translateY(20px)';
		    //           setTimeout(() => {
		    //               el.style.transition = 'all 0.6s ease';
		    //               el.style.opacity = '1';
		   //                el.style.transform = 'translateY(0)';
		   //            }, index * 100);
		   //        });
		   //    });
			   
			   function GETcep() {
			       var cep = document.getElementById('cep').value;
			       
			       // Remove tra√ßos e pontos para a API
			       cep = cep.replace(/\D/g, '');

			       if (cep.length !== 8) {
			           alert("CEP inv√°lido. Deve conter 8 n√∫meros.");
			           return;
			       }

			       var url = "https://viacep.com.br/ws/" + cep + "/json/";

			       fetch(url)
			           .then(response => response.json())
			           .then(data => {
			               if (data.erro) {
			                   // Se o CEP n√£o for encontrado, avisa o usu√°rio
			                   alert("CEP n√£o encontrado!");
			                   // Limpa os campos
			                   document.getElementById('rua').value = "";
			                   document.getElementById('bairro').value = "";
			                   document.getElementById('cidade').value = "";
			               } else {
			                   // Preenche os campos do formul√°rio com os dados
			                   document.getElementById('rua').value = data.logradouro;
			                   document.getElementById('bairro').value = data.bairro;
			                   document.getElementById('cidade').value = data.localidade; // O campo correto √© 'localidade'
			               }
			           }).catch(error => {
			               console.error(error);
			               alert("Houve um erro ao buscar o CEP.");
			           });
			   }

		       // Simula√ß√£o de a√ß√µes da tabela
		       /*
		       document.addEventListener('click', function(e) {
		           if (e.target.classList.contains('table-btn')) {
		               const action = Array.from(e.target.classList).find(cls => cls !== 'table-btn');
		               const row = e.target.closest('tr');
		               const id = row.cells[0].textContent;
		               
		               switch(action) {
		                   case 'delete':
		                       if (confirm(`Confirma a exclus√£o do item ${id}?`)) {
		                           row.style.opacity = '0';
		                           setTimeout(() => row.remove(), 300);
		                       }
		                       break;
		                   case 'view':
		                       alert(`Visualizando detalhes do item ${id}`);
		                       break;
		                   case 'pay':
		                       if (confirm(`Confirma o pagamento da conta ${id}?`)) {
		                           const statusCell = row.querySelector('.status-badge');
		                           statusCell.textContent = 'Pago';
		                           statusCell.className = 'status-badge status-success';
		                       }
		                       break;
		               }
		           }
		       });
		       */

		       // Funcionalidade de busca simples
		       document.addEventListener('input', function (e) {
		           if (e.target.classList.contains('search-input')) {
		               const searchTerm = e.target.value.toLowerCase();
		               const table = e.target.closest('.section').querySelector('.data-table tbody');
		               const rows = table.querySelectorAll('tr');

		               rows.forEach(row => {
		                   const text = row.textContent.toLowerCase();
		                   row.style.display = text.includes(searchTerm) ? '' : 'none';
		               });
		           }
		       });

		       // Update modal headers for dark theme
		       function updateModalHeaders() {
		           const modalHeaders = document.querySelectorAll('.modal-content h2');
		           modalHeaders.forEach(header => {
		               if (isDarkTheme) {
		                   header.style.color = 'var(--text-primary-dark)';
		               } else {
		                   header.style.color = 'var(--text-primary-light)';
		               }
		           });
		       }

		       // Listen for theme changes to update modal headers
		       document.body.addEventListener('transitionend', function (e) {
		           if (e.target === document.body) {
		               updateModalHeaders();
		           }
		       });

		       // fun√ß√µes da modal de venda
		       document.addEventListener('DOMContentLoaded', () => {
		           // Array para guardar os itens do carrinho em mem√≥ria
		           let carrinho = [];

		           // Seleciona os elementos do DOM
		           const produtoSelect = document.getElementById('produto-select');
		           const quantidadeInput = document.getElementById('produto-quantidade');
		           const btnAdicionar = document.getElementById('btn-adicionar-produto');
		           const listaCarrinho = document.getElementById('carrinho-itens-lista');
		           const totalCarrinhoSpan = document.getElementById('valor-total-carrinho');
		           const btnFinalizar = document.getElementById('btn-finalizar-venda');

		           // Evento para o bot√£o de adicionar produto
		           btnAdicionar.addEventListener('click', () => {
		               const produtoOption = produtoSelect.options[produtoSelect.selectedIndex];
		               if (!produtoOption.value) {
		                   alert('Por favor, selecione um produto.');
		                   return;
		               }

		               const [nome, preco] = produtoOption.value.split('|');
		               const quantidade = parseInt(quantidadeInput.value);
		               const precoNumerico = parseFloat(preco);

		               // Adiciona o produto ao array do carrinho
		               carrinho.push({
		                   nome: nome,
		                   preco: precoNumerico,
		                   quantidade: quantidade,
		                   subtotal: precoNumerico * quantidade
		               });

		               // Atualiza a exibi√ß√£o do carrinho
		               atualizarCarrinhoDisplay();

		               // Limpa os campos para a pr√≥xima adi√ß√£o
		               produtoSelect.selectedIndex = 0;
		               quantidadeInput.value = 1;
		           });

		           // Fun√ß√£o para renderizar o carrinho na tela
		           function atualizarCarrinhoDisplay() {
		               // Limpa a lista atual
		               listaCarrinho.innerHTML = '';

		               if (carrinho.length === 0) {
		                   listaCarrinho.innerHTML = '<p class="carrinho-vazio">Nenhum item adicionado ainda.</p>';
		                   totalCarrinhoSpan.textContent = '0,00';
		                   return;
		               }

		               let valorTotal = 0;

		               // Cria e adiciona cada item do carrinho na lista
		               carrinho.forEach((item, index) => {
		                   valorTotal += item.subtotal;

		                   const itemDiv = document.createElement('div');
		                   itemDiv.className = 'carrinho-item';
		                   itemDiv.innerHTML = `
		               <span>${item.quantidade}x ${item.nome}</span>
		               <span>R$ ${item.subtotal.toFixed(2).replace('.', ',')}</span>
		               <button class="btn-remover-item" data-index="${index}" style="background:none; border:none; color:red; cursor:pointer;">&times;</button>`;
		                   listaCarrinho.appendChild(itemDiv);
		               });

		               // Atualiza o valor total
		               totalCarrinhoSpan.textContent = valorTotal.toFixed(2).replace('.', ',');

		               // Adiciona eventos de clique aos bot√µes de remover
		               document.querySelectorAll('.btn-remover-item').forEach(button => {
		                   button.addEventListener('click', (e) => {
		                       const indexParaRemover = parseInt(e.target.dataset.index);
		                       // Remove o item do array
		                       carrinho.splice(indexParaRemover, 1);
		                       // Atualiza a exibi√ß√£o novamente
		                       atualizarCarrinhoDisplay();
		                   });
		               });
		           }

		           // L√≥gica para finalizar a venda
		           btnFinalizar.addEventListener('click', () => {
		               if (carrinho.length === 0) {
		                   alert('O carrinho est√° vazio!');
		                   return;
		               }

		               const dadosVenda = {
		                   cliente: document.getElementById('cliente-nome').value,
		                   itens: carrinho,
		                   total: carrinho.reduce((acc, item) => acc + item.subtotal, 0)
		               };

		               console.log('Dados da Venda para Enviar:', dadosVenda);
		               alert('Venda finalizada com sucesso! (Verifique o console)');
		               // Aqui voc√™ enviaria 'dadosVenda' para o seu backend
		               // E depois limparia o carrinho e fecharia a modal
		           });
		       });
		   
		       
		           // verificar esta fun√ß√£o para a modal de servi√ßos e possiveisoutra modals onde possuem campos de dropslist
		       // Vari√°vel para guardar a inst√¢ncia do Choices, para n√£o inicializar v√°rias vezes
		       let choicesInstance = null;

		       function inicializarChoicesServicos() {
		       // Encontra o elemento <input> de servi√ßos
		       const servicosInput = document.getElementById('servicos-input');

		       // Se o elemento existe E AINDA N√ÉO FOI INICIALIZADO
		       if (servicosInput && !choicesInstance) {
		           
		           // Inicializa a biblioteca
		           choicesInstance = new Choices(servicosInput, {
		           choices: [
		               { value: 'Troca de tela | 380.00', label: 'Troca de tela | 380.00' },
		               { value: 'Troca de Bateria | 250.00', label: 'Troca de Bateria | 250.00' },
		               { value: 'Limpeza Qu√≠mica | 150.00', label: 'Limpeza Qu√≠mica | 150.00' },
		               { value: 'Reparo Placa M√£e | 550.00', label: 'Reparo Placa M√£e | 550.00' }
		           ],
		           removeItemButton: true,
		           addItemText: (value) => `Pressione Enter para adicionar <b>"${value}"</b>`,
		           noResultsText: 'Nenhum resultado encontrado',
		           });
		           
		       }
		   }
	</script>	
	<script th:src="@{/script/script.js}"></script>
	
   
</body>

</html>